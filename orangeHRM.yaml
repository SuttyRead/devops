#apiVersion: v1
#kind: Namespace
#metadata:
#  name: orangehrm
#
#---
#
#apiVersion: v1
#kind: Service
#metadata:
#  name: orangehrm
#  namespace: orangehrm
#spec:
#  type: ClusterIP
#  ports:
#    - port: 80
#      targetPort: 80
#  selector:
#    app: orangehrm
#
#---
#
#apiVersion: apps/v1
#kind: Deployment
#metadata:
#  name: orangehrm
#  namespace: orangehrm
#spec:
#  replicas: 1
#  selector:
#    matchLabels:
#      app: orangehrm
#  template:
#    metadata:
#      labels:
#        app: orangehrm
#    spec:
#      containers:
#        - name: orangehrm
#          image: orangehrm/orangehrm:latest
#          ports:
#            - containerPort: 80
#          env:
#            - name: ORANGEHRM_DATABASE_HOST
#              value: "mysql"
#            - name: ORANGEHRM_DATABASE_PORT_NUMBER
#              value: "3306"
#            - name: ORANGEHRM_DATABASE_NAME
#              value: "orangehrm"
#            - name: ORANGEHRM_DATABASE_USER
#              value: "testuser"
#            - name: ORANGEHRM_DATABASE_PASSWORD
#              value: "testpassword"
#          volumeMounts:
#            - mountPath: /bitnami/orangehrm
#              name: orangehrm-volume
#      volumes:
#        - name: orangehrm-volume
#          persistentVolumeClaim:
#            claimName: orangehrm-pvc
#
#---
#
#apiVersion: v1
#kind: PersistentVolumeClaim
#metadata:
#  name: orangehrm-pvc
#  namespace: orangehrm
#spec:
#  accessModes:
#    - ReadWriteOnce
#  resources:
#    requests:
#      storage: 1Gi
#
#---
#
#apiVersion: v1
#kind: Service
#metadata:
#  name: mysql
#  namespace: orangehrm
#spec:
#  type: ClusterIP
#  ports:
#    - port: 3306
#      targetPort: 3306
#  selector:
#    app: mysql
#
#---
#
#apiVersion: apps/v1
#kind: Deployment
#metadata:
#  name: mysql
#  namespace: orangehrm
#spec:
#  replicas: 1
#  selector:
#    matchLabels:
#      app: mysql
#  template:
#    metadata:
#      labels:
#        app: mysql
#    spec:
#      containers:
#        - name: mysql
#          image: mysql:latest
#          ports:
#            - containerPort: 3306
#          env:
#            - name: MYSQL_ROOT_PASSWORD
#              value: "rootpassword"
#            - name: MYSQL_DATABASE
#              value: "orangehrm"
#            - name: MYSQL_USER
#              value: "testuser"
#            - name: MYSQL_PASSWORD
#              value: "testpassword"
#          volumeMounts:
#            - mountPath: /var/lib/mysql
#              name: mysql-volume
#      volumes:
#        - name: mysql-volume
#          persistentVolumeClaim:
#            claimName: mysql-pvc
#
#---
#
#apiVersion: v1
#kind: PersistentVolumeClaim
#metadata:
#  name: mysql-pvc
#  namespace: orangehrm
#spec:
#  accessModes:
#    - ReadWriteOnce
#  resources:
#    requests:
#      storage: 5Gi
#
#---
#
#apiVersion: networking.k8s.io/v1
#kind: Ingress
#metadata:
#  name: orangehrm-ingress
#  namespace: orangehrm
#  annotations:
#    kubernetes.io/ingress.class: "nginx"
#    cert-manager.io/cluster-issuer: "letsencrypt-staging"
#spec:
#  rules:
#    - host: "orangehrm.sutty.shop"
#      http:
#        paths:
#          - pathType: Prefix
#            path: "/"
#            backend:
#              service:
#                name: orangehrm
#                port:
#                  number: 80
#  tls:
#    - hosts:
#        - "orangehrm.sutty.shop"
#      secretName: orangehrm-tls
